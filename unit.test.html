<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title></title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="./dist/index.umd.js"></script>

	<script>
		const { Cloudevent } = window.cloudevents

		const cloudevent = new Cloudevent({
			data: JSON.stringify({ some: 'payload' }),
			source: 'https://github.com/1mill/cloudevents',
			type: 'cmd.do-this-command.v0',
			originatorid: 'user.id.1234',
		});

		console.log(cloudevent);

		const enrichedCloudevent = new Cloudevent({
			data: JSON.stringify({ new: 'payload', value: true }),
			source: 'https://www.erikekberg.com/',
			type: 'fct.this-thing-happened.v0',
		})
		.origin({ cloudevent })
		.wschannel({ wschannelid: 'some-prefix:my-resource-name#id=12345' });

		console.log(enrichedCloudevent);
	</script>
</head>

<body>
	<h1>Hello world!</h1>
</body>

</html>
