<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title></title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="./dist/bundle-browser/cloudevents.umd.js"></script>

	<script>
		const { Cloudevent } = window.cloudevents

		const cloudevent = new Cloudevent({
			data: { some: 'payload' },
			source: 'https://github.com/1mill/cloudevents',
			type: 'cmd.do-this-command.v0',
		})

		console.log(cloudevent);

		new Promise(resolve => setTimeout(resolve, 3000)).then(() => {
			const enrichedCloudevent = new Cloudevent({
				actor: 'user#1234',
				data: { new: 'payload', value: true },
				origin: cloudevent,
				source: 'https://www.erikekberg.com/',
				subject: 'project#4321',
				type: 'fct.this-thing-happened.v0',
				wschannelid: 'some-prefix:my-resource-name#id=12345',
			})

			console.log(enrichedCloudevent);
		});
	</script>
</head>

<body>
	<h1>Hello world!</h1>
</body>

</html>
